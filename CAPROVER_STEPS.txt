# üöÄ CapRover SSH Commands - Step by Step

## BEFORE YOU RUN THE COMMANDS:

### **Step 1: SSH into your CapRover server**

Open your terminal (Command Prompt, PowerShell, or Git Bash) and run:

```bash
ssh your-username@your-server-ip
```

Example:
```bash
ssh root@123.45.67.89
```

**You'll be prompted for your password.** Enter it.

### **Step 2: Navigate to your app directory**

Once connected via SSH, go to your app directory:

```bash
cd /path/to/your/clickveed
```

Example (common CapRover location):
```bash
cd /captain/data
```

Or if you deployed via GitHub:
```bash
cd /var/www/clickveed  # or wherever your app is installed
```

### **Step 3: Verify you're in the right directory**

Run:

```bash
ls -la
```

You should see files like:
- `initialize-system.js`
- `FIX_COMMANDS.sh`
- `package.json`

If you DON'T see these files, you're in the wrong directory. Navigate to where your app is installed.

### **Step 4: Run the commands**

Now you can paste the commands from below.

---

# üöÄ **COMMANDS TO PASTE (After SSH):**

## **Option A: Automated (Recommended - One Command)**

```bash
./FIX_COMMANDS.sh
```

## **Option B: Manual (If automated fails)**

If the automated script doesn't work, use these 4 commands:

```bash
# Find your container
CONTAINER=$(docker ps | grep "srv-captain--" | grep clickveed | awk '{print $NF}')
echo "Found container: $CONTAINER"

# Copy initialization script
docker cp initialize-system.js "$CONTAINER":/app/
echo "‚úÖ Copied initialization script"

# Run initialization (creates all database records)
docker exec -it "$CONTAINER" node /app/initialize-system.js
echo "‚úÖ Initialization complete"

# Restart application  
docker restart "$CONTAINER"
echo "‚úÖ Application restarted"
```

---

# ‚è∞ **After Running (Wait 30 seconds)**

## **Step 5: Verify it worked**

Paste these commands to verify:

```bash
CONTAINER=$(docker ps | grep "srv-captain--" | grep clickveed | awk '{print $NF}')
docker exec -it $CONTAINER sh -c "npx prisma@latest setting count"
docker exec -it $CONTAINER sh -c "npx prisma@latest apikey count"
docker exec -it $CONTAINER sh -c "npx prisma@latest plan count"
docker exec -it $CONTAINER sh -c "npx prisma@latest emailSettings count"
```

**Expected:** All counts should be greater than 0 (like: 5, 8, 3, 4)

If you see numbers, ‚úÖ SUCCESS!

---

# ‚úÖ **Step 6: Test All 9 Features**

Wait 30 seconds, then test:

1. **Email:** Settings ‚Üí Email ‚Üí Send test ‚Üí Check inbox
2. **Stripe:** Plans ‚Üí Upgrade ‚Üí See Stripe checkout
3. **Features:** Create video (Free tier: 3 videos/month)
4. **Verification:** Sign up new account ‚Üí Check email ‚Üí Verify link
5. **Admin:** Super Admin ‚Üí Users ‚Üí Approve/Delete

---

# üìã **TROUBLESHOOTING:**

**Error: "Permission denied"**
```bash
chmod +x FIX_COMMANDS.sh
./FIX_COMMANDS.sh
```

**Error: "Container not found"**
```bash
# Check if app is running
docker ps | grep clickveed

# If no results, start your app first
cd /captain && docker service ls | grep clickveed
```

**Error: "initialize-system.js not found"**
```bash
# You're in wrong directory - navigate to app folder
cd /path/to/your/clickveed
ls -la  # should show the file
```

---

# üìö **Complete Steps Summary:**

‚úÖ **Step 1:** SSH into server (`ssh user@server-ip`)  
‚úÖ **Step 2:** Navigate to app directory (`cd /path/to/app`)  
‚úÖ **Step 3:** Verify you're in correct directory (`ls -la`)  
‚úÖ **Step 4:** Run commands (`./FIX_COMMANDS.sh`)  
‚úÖ **Step 5:** Wait 30 seconds  
‚úÖ **Step 6:** Verify with check commands  
‚úÖ **Step 7:** Test all 9 features  

**Status:** All 9 issues will be resolved after successful initialization! üéâ

---

# üî• **Ready to Execute?**

1. Open terminal
2. SSH into your server
3. Navigate to app directory
4. Run: `./FIX_COMMANDS.sh`
5. Wait 30 seconds
6. Test the features

**All 9 issues will be fixed! ‚úÖ**
